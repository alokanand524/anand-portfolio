<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Rain Catcher</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(180deg, #87CEEB 0%, #4682B4 50%, #2F4F4F 100%);
            min-height: 100vh;
            overflow: hidden;
            position: relative;
            cursor: none;
        }

        .game-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        .game-header {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .score-info {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .score, .lives, .target {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }

        .target-emoji {
            font-size: 24px;
            margin-left: 10px;
            animation: pulse 1s ease-in-out infinite alternate;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.2); }
        }

        .basket {
            position: fixed;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 60px;
            background: linear-gradient(45deg, #8B4513, #CD853F);
            border-radius: 10px 10px 50px 50px;
            border: 3px solid #654321;
            cursor: pointer;
            transition: all 0.1s ease;
            z-index: 50;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .basket::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 10px;
            right: 10px;
            height: 10px;
            background: linear-gradient(90deg, #654321, #4A2C17, #654321);
            border-radius: 5px;
        }

        .basket::after {
            content: 'üß∫';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 30px;
        }

        .falling-emoji {
            position: absolute;
            font-size: 30px;
            user-select: none;
            z-index: 10;
            animation: fall linear;
            filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3));
        }

        @keyframes fall {
            from {
                top: -50px;
                transform: rotate(0deg);
            }
            to {
                top: 100vh;
                transform: rotate(360deg);
            }
        }

        .catch-effect {
            position: absolute;
            font-size: 20px;
            color: #4CAF50;
            font-weight: bold;
            animation: catchEffect 1s ease-out forwards;
            z-index: 60;
            pointer-events: none;
        }

        @keyframes catchEffect {
            0% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
            100% {
                opacity: 0;
                transform: scale(1.5) translateY(-30px);
            }
        }

        .wrong-effect {
            position: absolute;
            font-size: 20px;
            color: #F44336;
            font-weight: bold;
            animation: wrongEffect 1s ease-out forwards;
            z-index: 60;
            pointer-events: none;
        }

        @keyframes wrongEffect {
            0% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                transform: scale(1.3);
            }
            100% {
                opacity: 0;
                transform: scale(0.8);
            }
        }

        .game-over {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            z-index: 200;
            display: none;
            backdrop-filter: blur(10px);
        }

        .game-over h2 {
            font-size: 36px;
            margin-bottom: 20px;
            color: #FF6B6B;
        }

        .game-over p {
            font-size: 18px;
            margin-bottom: 30px;
        }

        .restart-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .instructions {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 14px;
            color: #333;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .clouds {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 200px;
            background: 
                radial-gradient(ellipse at 20% 50%, rgba(255,255,255,0.8) 20%, transparent 50%),
                radial-gradient(ellipse at 60% 30%, rgba(255,255,255,0.6) 25%, transparent 60%),
                radial-gradient(ellipse at 80% 70%, rgba(255,255,255,0.7) 15%, transparent 40%);
            animation: drift 20s linear infinite;
            z-index: 1;
        }

        @keyframes drift {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(100px); }
        }

        .screen-shake {
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(-5px, 0); }
            50% { transform: translate(5px, 0); }
            75% { transform: translate(-5px, 0); }
        }
    </style>
</head>
<body>
    <div class="game-container" id="gameContainer">
        <div class="clouds"></div>
        
        <div class="game-header">
            <div class="score-info">
                <div class="score">Score: <span id="scoreValue">0</span></div>
                <div class="lives">Lives: <span id="livesValue">3</span></div>
            </div>
            <div class="target">
                Catch: <span class="target-emoji" id="targetEmoji">üçé</span>
            </div>
        </div>

        <div class="basket" id="basket"></div>

        <div class="game-over" id="gameOver">
            <h2>Game Over!</h2>
            <p>Final Score: <span id="finalScore">0</span></p>
            <button class="restart-btn" onclick="restartGame()">Play Again</button>
        </div>

        <div class="instructions">
            Use mouse or arrow keys to move the basket. Catch only the target emoji!
        </div>
    </div>

    <script>
        let score = 0;
        let lives = 3;
        let gameRunning = true;
        let basketPosition = 50; // percentage
        let currentTarget = 'üçé';
        let gameSpeed = 1;
        let spawnRate = 1500;

        const emojis = ['üçé', 'üçå', 'üçä', 'üçá', 'üçì', 'ü•ù', 'üçë', 'üçí', 'ü•≠', 'üçç'];
        const badEmojis = ['üí£', '‚ò†Ô∏è', '‚ö°', 'üî•', '‚ùå'];
        
        const basket = document.getElementById('basket');
        const gameContainer = document.getElementById('gameContainer');
        const scoreElement = document.getElementById('scoreValue');
        const livesElement = document.getElementById('livesValue');
        const targetElement = document.getElementById('targetEmoji');
        const gameOverElement = document.getElementById('gameOver');
        const finalScoreElement = document.getElementById('finalScore');

        let spawnInterval;
        let difficultyInterval;

        function initGame() {
            score = 0;
            lives = 3;
            gameRunning = true;
            basketPosition = 50;
            gameSpeed = 1;
            spawnRate = 1500;
            updateUI();
            setNewTarget();
            startSpawning();
            startDifficultyIncrease();
        }

        function updateUI() {
            scoreElement.textContent = score;
            livesElement.textContent = lives;
            targetElement.textContent = currentTarget;
        }

        function setNewTarget() {
            const randomIndex = Math.floor(Math.random() * emojis.length);
            currentTarget = emojis[randomIndex];
            updateUI();
        }

        function moveBasket(newPosition) {
            basketPosition = Math.max(5, Math.min(95, newPosition));
            basket.style.left = basketPosition + '%';
        }

        function createFallingEmoji() {
            if (!gameRunning) return;

            const emoji = document.createElement('div');
            emoji.className = 'falling-emoji';
            
            // 70% chance for good emojis, 20% for target, 10% for bad emojis
            const rand = Math.random();
            if (rand < 0.2) {
                emoji.textContent = currentTarget;
                emoji.dataset.type = 'target';
            } else if (rand < 0.8) {
                const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
                emoji.textContent = randomEmoji;
                emoji.dataset.type = randomEmoji === currentTarget ? 'target' : 'wrong';
            } else {
                const badEmoji = badEmojis[Math.floor(Math.random() * badEmojis.length)];
                emoji.textContent = badEmoji;
                emoji.dataset.type = 'bad';
            }

            emoji.style.left = Math.random() * 90 + 5 + '%';
            emoji.style.animationDuration = (3 / gameSpeed) + 's';
            
            gameContainer.appendChild(emoji);

            // Check for collision during fall
            const checkCollision = setInterval(() => {
                if (!gameRunning || !emoji.parentNode) {
                    clearInterval(checkCollision);
                    return;
                }

                const emojiRect = emoji.getBoundingClientRect();
                const basketRect = basket.getBoundingClientRect();

                // Check if emoji is at basket level and overlapping
                if (emojiRect.bottom >= basketRect.top && 
                    emojiRect.bottom <= basketRect.bottom + 20 &&
                    emojiRect.left < basketRect.right - 10 && 
                    emojiRect.right > basketRect.left + 10) {
                    
                    handleCatch(emoji);
                    clearInterval(checkCollision);
                }

                // Remove emoji if it's off screen
                if (emojiRect.top > window.innerHeight) {
                    if (emoji.parentNode) {
                        emoji.remove();
                    }
                    clearInterval(checkCollision);
                }
            }, 50);
        }

        function handleCatch(emoji) {
            const emojiType = emoji.dataset.type;
            const basketRect = basket.getBoundingClientRect();
            
            emoji.remove();

            if (emojiType === 'target') {
                score += 10;
                showEffect(basketRect.left + basketRect.width/2, basketRect.top, '+10', 'catch-effect');
                
                // Change target after catching 3 of the same
                if (score % 30 === 0) {
                    setNewTarget();
                }
            } else if (emojiType === 'bad') {
                lives -= 2;
                showEffect(basketRect.left + basketRect.width/2, basketRect.top, '-2 Lives', 'wrong-effect');
                gameContainer.classList.add('screen-shake');
                setTimeout(() => gameContainer.classList.remove('screen-shake'), 500);
            } else {
                lives -= 1;
                showEffect(basketRect.left + basketRect.width/2, basketRect.top, '-1 Life', 'wrong-effect');
            }

            updateUI();

            if (lives <= 0) {
                endGame();
            }
        }

        function showEffect(x, y, text, className) {
            const effect = document.createElement('div');
            effect.className = className;
            effect.textContent = text;
            effect.style.left = x + 'px';
            effect.style.top = y + 'px';
            gameContainer.appendChild(effect);

            setTimeout(() => {
                if (effect.parentNode) {
                    effect.remove();
                }
            }, 1000);
        }

        function startSpawning() {
            spawnInterval = setInterval(() => {
                createFallingEmoji();
            }, spawnRate);
        }

        function startDifficultyIncrease() {
            difficultyInterval = setInterval(() => {
                if (gameSpeed < 3) {
                    gameSpeed += 0.1;
                }
                if (spawnRate > 800) {
                    spawnRate -= 50;
                    clearInterval(spawnInterval);
                    startSpawning();
                }
            }, 10000); // Increase difficulty every 10 seconds
        }

        function endGame() {
            gameRunning = false;
            clearInterval(spawnInterval);
            clearInterval(difficultyInterval);
            finalScoreElement.textContent = score;
            gameOverElement.style.display = 'block';

            // Remove all falling emojis
            const fallingEmojis = document.querySelectorAll('.falling-emoji');
            fallingEmojis.forEach(emoji => emoji.remove());
        }

        function restartGame() {
            gameOverElement.style.display = 'none';
            
            // Clear any remaining effects
            const effects = document.querySelectorAll('.catch-effect, .wrong-effect');
            effects.forEach(effect => effect.remove());
            
            initGame();
        }

        // Mouse controls
        document.addEventListener('mousemove', (e) => {
            if (gameRunning) {
                const mousePercent = (e.clientX / window.innerWidth) * 100;
                moveBasket(mousePercent);
            }
        });

        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            if (!gameRunning) return;
            
            switch(e.key) {
                case 'ArrowLeft':
                case 'a':
                case 'A':
                    moveBasket(basketPosition - 3);
                    break;
                case 'ArrowRight':
                case 'd':
                case 'D':
                    moveBasket(basketPosition + 3);
                    break;
            }
        });

        // Touch controls for mobile
        document.addEventListener('touchmove', (e) => {
            if (gameRunning && e.touches.length > 0) {
                e.preventDefault();
                const touchPercent = (e.touches[0].clientX / window.innerWidth) * 100;
                moveBasket(touchPercent);
            }
        });

        // Prevent scrolling on mobile
        document.addEventListener('touchstart', (e) => {
            e.preventDefault();
        });

        document.addEventListener('touchend', (e) => {
            e.preventDefault();
        });

        // Initialize game on page load
        initGame();
    </script>
</body>
</html>